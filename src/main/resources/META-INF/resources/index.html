<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Master - Fragen verwalten</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="main-container">
        <h1><i class="bi bi-trophy-fill"></i> Quiz Master</h1>
        
        <div id="message" class="alert" role="alert" style="display: none;"></div>

        <form id="quizForm" class="needs-validation" novalidate>
            <div class="mb-3">
                <label for="question" class="form-label">Frage *</label>
                <input type="text" class="form-control form-control-lg" id="question" required placeholder="Gib hier deine Frage ein...">
                <div class="invalid-feedback">Bitte gib eine Frage ein.</div>
            </div>

            <div class="mb-3">
                <label for="questionType" class="form-label">Fragetyp *</label>
                <select class="form-select" id="questionType" required onchange="toggleAnswerType()">
                    <option value="">W√§hle einen Fragetyp...</option>
                    <option value="multiple-choice">Multiple Choice (dynamische Antwortanzahl)</option>
                    <option value="matching">Zuordnung (Items zu Kategorien zuordnen)</option>
                    <option value="text">Texteingabe (Freitext-Antwort)</option>
                </select>
                <div class="invalid-feedback">Bitte w√§hle einen Fragetyp.</div>
            </div>

            <div class="card mb-3" id="multipleChoiceSection" style="display: none;">
                <div class="card-body bg-light">
                    <div class="mb-3">
                        <label for="answerCount" class="form-label fw-bold">Anzahl der Antwortm√∂glichkeiten</label>
                        <input type="number" class="form-control" id="answerCount" min="2" max="10" value="5" onchange="updateAnswerFields()">
                        <small class="form-text text-muted">W√§hle zwischen 2 und 10 Antwortm√∂glichkeiten (Standard: 5)</small>
                    </div>
                    <label class="form-label fw-bold">Antworten * (W√§hle die richtige(n) Antwort(en) aus)</label>
                    <small class="form-text text-muted d-block mb-2">üí° Es k√∂nnen mehrere Antworten richtig sein!</small>
                    <div id="answersContainer">
                        <!-- Wird dynamisch bef√ºllt -->
                    </div>
                </div>
            </div>

            <div class="card mb-3" id="textAnswerSection" style="display: none;">
                <div class="card-body bg-light">
                    <label for="textAnswer" class="form-label fw-bold">Richtige Antwort (Freitext) *</label>
                    <textarea class="form-control" id="textAnswer" rows="3" placeholder="Gib hier die richtige Antwort ein..."></textarea>
                    <div class="invalid-feedback">Bitte gib die richtige Antwort ein.</div>
                    <small class="form-text text-muted">Die Antwort wird bei der Bewertung case-insensitive verglichen.</small>
                </div>
            </div>

            <div class="card mb-3" id="matchingSection" style="display: none;">
                <div class="card-body bg-light">
                    <div class="mb-3">
                        <label for="itemCount" class="form-label fw-bold">Anzahl der zuzuordnenden Items</label>
                        <input type="number" class="form-control" id="itemCount" min="2" max="10" value="4" onchange="updateMatchingFields()">
                        <small class="form-text text-muted">W√§hle zwischen 2 und 10 Items (Standard: 4)</small>
                    </div>
                    <div class="mb-3">
                        <label for="categoryCount" class="form-label fw-bold">Anzahl der Kategorien</label>
                        <input type="number" class="form-control" id="categoryCount" min="2" max="8" value="3" onchange="updateMatchingFields()">
                        <small class="form-text text-muted">W√§hle zwischen 2 und 8 Kategorien (Standard: 3)</small>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <label class="form-label fw-bold">Items (die zugeordnet werden) *</label>
                            <div id="leftItemsContainer">
                                <!-- Wird dynamisch bef√ºllt -->
                            </div>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label fw-bold">Kategorien *</label>
                            <small class="form-text text-muted d-block mb-2">üí° Jedem Item k√∂nnen mehrere Kategorien zugeordnet werden!</small>
                            <div id="rightItemsContainer">
                                <!-- Wird dynamisch bef√ºllt -->
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-3">
                        <label class="form-label fw-bold">Zuordnungen festlegen *</label>
                        <small class="form-text text-muted d-block mb-2">W√§hle f√ºr jede Kategorie die zugeh√∂rigen Items aus</small>
                        <div id="mappingsContainer">
                            <!-- Wird dynamisch bef√ºllt -->
                        </div>
                    </div>
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="category" class="form-label">Kategorie *</label>
                    <select class="form-select" id="category" required>
                        <option value="">W√§hle eine Kategorie...</option>
                        <option value="IT-Systeme">IT-Systeme</option>
                        <option value="Netzwerktechnik">Netzwerktechnik</option>
                        <option value="Betriebssysteme">Betriebssysteme</option>
                        <option value="Programmierung">Programmierung</option>
                        <option value="Datenbanken">Datenbanken</option>
                        <option value="IT-Sicherheit">IT-Sicherheit</option>
                        <option value="Software-Engineering">Software-Engineering</option>
                        <option value="Wirtschaft & Recht">Wirtschaft & Recht</option>
                        <option value="Projektmanagement">Projektmanagement</option>
                        <option value="Elektrotechnik">Elektrotechnik</option>
                    </select>
                    <div class="invalid-feedback">Bitte w√§hle eine Kategorie.</div>
                </div>

                <div class="col-md-6">
                    <label for="difficulty" class="form-label">Schwierigkeit *</label>
                    <select class="form-select" id="difficulty" required>
                        <option value="">W√§hle eine Schwierigkeit...</option>
                        <option value="leicht">Leicht</option>
                        <option value="mittel">Mittel</option>
                        <option value="schwer">Schwer</option>
                    </select>
                    <div class="invalid-feedback">Bitte w√§hle eine Schwierigkeit.</div>
                </div>
            </div>

            <div class="d-grid gap-2">
                <button type="submit" class="btn btn-primary btn-lg">
                    <i class="bi bi-check-circle-fill"></i> Frage speichern
                </button>
                <button type="button" class="btn btn-outline-secondary" onclick="resetForm()">
                    <i class="bi bi-arrow-clockwise"></i> Formular zur√ºcksetzen
                </button>
            </div>
        </form>

        <hr class="my-5">

        <div class="questions-list">
            <h2 class="mb-4"><i class="bi bi-list-ul"></i> Gespeicherte Fragen</h2>
            <div id="questionsList"></div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="app.js"></script>
</body>
</html>
